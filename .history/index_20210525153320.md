---
layout: default
title: LINK型連動
nav_order: 1
description: "LINK型連動方式のガイド"
permalink: /
---

# LINK型(画面)の連動ガイド

リンク型は、決済代行会社がご提供する決済画面を呼び出して、決済処理をする接続方式です。
加盟店さまが決済画面を構築することなく、簡単かつスピーディーにご導入いただけます。

<!-- [Get started now](#getting-started){: .btn .btn-primary .fs-5 .mb-4 .mb-md-0 .mr-2 } [View it on GitHub](https://github.com/pmarsceill/just-the-docs){: .btn .fs-5 .mb-4 .mb-md-0 } -->

---

<!-- ## Getting started
```markdown
Syntax highlighted code block

# Header 1
## Header 2
### Header 3

- Bulleted
- List

1. Numbered
2. List

**Bold** and _Italic_ and `Code` text

[Link](url) and ![Image](src)
```
### Dependencies

Just the Docs is built for [Jekyll](https://jekyllrb.com), a static site generator. View the [quick start guide](https://jekyllrb.com/docs/) for more information. Just the Docs requires no special plugins and can run on GitHub Pages' standard Jekyll compiler. The [Jekyll SEO Tag plugin](https://github.com/jekyll/jekyll-seo-tag) is included by default (no need to run any special installation) to inject SEO and open graph metadata on docs pages. For information on how to configure SEO and open graph metadata visit the [Jekyll SEO Tag usage guide](https://jekyll.github.io/jekyll-seo-tag/usage/). -->

### ■連動フロー

<span><a href="#"><img src="{{ site.baseurl }}/assets/images/link_flow.png" class="image mt-3"></a></span>

<!-- 1. サーバー側処理Add Just the Docs to your Jekyll site's `_config.yml` as a [remote theme](https://blog.github.com/2017-11-29-use-any-theme-with-github-pages/) -->
1. FROMの基本構造

```markdown
<form action="https://stbfep.sps-system.com/xxxx/xxxxxxxx" method="POST">
  <input type="hidden" name="タグエレメント名1" value="設定内容1">
  <input type="hidden" name="タグエレメント名2" value="設定内容2">
  <input type="submit" value="submit">
</form>
```
<ul>
  <li><small>文字コード（キャラクタセット）はShift_JIS</small></li>
  <li><small>使用可能Portは、「443」となります。</small></li>
  <li><small>未設定項目については空文字の設定をお願いします。ただし、明細行繰返項目のみ、タグエレメントの削除が可能です。</small></li>
  <li><small>FORMタグのaction属性に指定する接続先は、管理画面から確認してください。</small></li>
</ul>

### ■連動サンプル（連動フローの番号と連動します。）


② LINK型FORM要求
```json
## Header
Authorization: 統合決済APIのアクセストークン
Content-Type: コンテンツタイプ
PayRoad-Api-Version: APIバージョン
PayRoad-Payment-Method: 決済手段コード
PayRoad-Pg-Name: 決済代行会社コード

## Body(Json)
{
  "ipAddress": "string",
  "language": "ja",
  "paymentInfo": {
    "free1": "string",
    "free2": "string",
    "productPackageId": "string",
    "productPackageName": "string",
    "products": [
      {
        "count": 0,
        "id": "string",
        "name": "string",
        "subtotalAmount": 0,
        "subtotalTax": 0
      }
    ],
    "totalAmount": 0,
    "totalTax": 0
  },
  "serviceId": 0,
  "serviceInfo": {
    "cancelUrl": "string",
    "currency": "JPY",
    "errorUrl": "string",
    "region": "string",
    "returnUrl": "string",
    "serviceNotifyUrl": "string",
    "userKey": "string"
  },
  "serviceOrderId": "string",
  "testFlag": "0"
}
```



<div class="modal">
　　<div class="bigimg"><img src="" alt=""></div>
　　<p class="close-btn"><a href="">✖</a></p>
</div>
<script type="text/javascript">
 $('span a').click(function() {
    var imgSrc = $(this).children().attr('src');
    $('.bigimg').children().attr('src', imgSrc);
    $('.modal').fadeIn();
    $('body,html').css('overflow-y', 'hidden');
    return false
  });

$('.close-btn').click(function() {
    $('.modal').fadeOut();
    $('body,html').css('overflow-y', 'visible');
    return false
  });
</script>
